(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c,o,r,i=n(0),a=n.n(i),l=n(25),s=n.n(l),u=n(11),d=n(2),j=(n(30),n(31),n(32),n(13)),b=n(7),f=n(5);!function(e){e.All="all",e.Active="active",e.Completed="completed"}(c||(c={})),function(e){e.Get="get",e.Post="post",e.Delete="delete",e.Patch="patch",e.isEmpty="isEmpty"}(o||(o={})),function(e){e.todos="todos"}(r||(r={}));var m=n(10),p=n.n(m),O=n(3),h=function(e){var t=e.query,n=e.onChange,c=e.onSubmit,o=e.activeTodos,r=e.onToggle;return Object(O.jsxs)("header",{className:"header",children:[Object(O.jsx)("h1",{children:"todos"}),Object(O.jsx)("button",{type:"button",className:p()("todoapp__toggle-all",{active:0===o.length}),onClick:r,children:"."}),Object(O.jsx)("form",{onSubmit:c,children:Object(O.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(e.target.value)}))})})]})},g=function(e){var t=e.numberOfTodos,n=e.isCompletedTodos,o=e.onRemove;return Object(O.jsxs)("footer",{className:"footer",children:[Object(O.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(t,1===t?" item left":" items left")}),Object(O.jsxs)("ul",{className:"filters",children:[Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/".concat(c.All),className:function(e){var t=e.isActive;return p()({selected:t})},children:"All"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/".concat(c.Active),className:function(e){var t=e.isActive;return p()({selected:t})},children:"Active"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/".concat(c.Completed),className:function(e){var t=e.isActive;return p()({selected:t})},children:"Completed"})})]}),n&&Object(O.jsx)("button",{type:"button",className:"clear-completed",onClick:o,children:"Clear completed"})]})},v=function(e){var t=e.todo,n=e.onClose,c=e.onToggle,o=e.onChange,r=Object(i.useState)(!1),a=Object(f.a)(r,2),l=a[0],s=a[1],u=Object(i.useState)(t.title),d=Object(f.a)(u,2),j=d[0],b=d[1],m=t.title,h=t.id,g=t.completed,v=function(e,t){j.trim()?(o(j,h),s(e)):(s(!1),b(t))},x=Object(i.useCallback)((function(e){e&&e.focus()}),[]);return Object(O.jsxs)("li",{className:p()({completed:g,editing:l}),children:[Object(O.jsxs)("div",{className:"view",children:[Object(O.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",checked:g,onChange:function(){return c(h,!g)}}),Object(O.jsx)("label",{htmlFor:"toggle",onDoubleClick:function(){return s(!0)},children:m}),Object(O.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return n(h)},children:"."})]}),l&&Object(O.jsx)("form",{onSubmit:function(){return v(!1,m)},onBlur:function(){return v(!1,m)},children:Object(O.jsx)("input",{type:"text",className:"edit",ref:x,value:j,onChange:function(e){return b(e.target.value)},onKeyUp:function(e){return n=e,c=t.title,void("Escape"===n.key&&(s(!1),b(c)));var n,c}})})]})},x=a.a.memo((function(e){var t=e.todos,n=e.onClose,c=e.onToggle,o=e.onChange;return Object(O.jsx)("section",{className:"main",children:Object(O.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t.map((function(e){return Object(O.jsx)(v,{todo:e,onClose:n,onToggle:c,onChange:o},e.id)}))})})})),C=function(){var e=function(e,t){var n=Object(i.useState)((function(){try{return JSON.parse(localStorage.getItem(e)||"")||t}catch(n){return t}})),c=Object(f.a)(n,2),o=c[0],r=c[1];return[o,function(t){r(t),localStorage.setItem(e,JSON.stringify(t))}]}(r.todos,[]),t=Object(f.a)(e,2),n=t[0],o=t[1],a=Object(d.p)().filter,l=void 0===a?"":a,s=Object(i.useState)(""),u=Object(f.a)(s,2),m=u[0],p=u[1],v=Object(i.useState)(!0),C=Object(f.a)(v,2),y=C[0],N=C[1];var S=Object(i.useMemo)((function(){switch(l){case c.Completed:return n.filter((function(e){return e.completed}));case c.Active:return n.filter((function(e){return!e.completed}));default:return n}}),[n,l]),T=null===n||void 0===n?void 0:n.filter((function(e){return!e.completed})),k=n.some((function(e){return e.completed}));return Object(O.jsxs)("div",{className:"todoapp",children:[Object(O.jsx)(h,{query:m,onChange:p,onSubmit:function(e){if(e.preventDefault(),m.trim()){var t={id:+new Date,title:m,completed:!1};o([].concat(Object(b.a)(n),[t])),p("")}},activeTodos:T,onToggle:function(){o(n.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{completed:y})}))),N((function(e){return!e}))}}),!!n.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x,{todos:S,onClose:function(e){o(n.filter((function(t){return t.id!==e})))},onToggle:function(e,t){o(n.map((function(n){return n.id!==e?n:Object(j.a)(Object(j.a)({},n),{},{completed:t})})))},onChange:function(e,t){o(n.map((function(n){return n.id!==t?n:Object(j.a)(Object(j.a)({},n),{},{title:e})})))}}),Object(O.jsx)(g,{numberOfTodos:null===T||void 0===T?void 0:T.length,isCompletedTodos:k,onRemove:function(){o(n.filter((function(e){return!e.completed})))}})]})]})};s.a.render(Object(O.jsx)(u.a,{children:Object(O.jsx)(d.c,{children:Object(O.jsxs)(d.a,{path:"/",children:[Object(O.jsx)(d.a,{index:!0,element:Object(O.jsx)(C,{})}),Object(O.jsx)(d.a,{path:":filter",element:Object(O.jsx)(C,{})})]})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3612b5ec.chunk.js.map